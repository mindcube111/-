# Cloudflare 部署检查清单

使用此清单确保所有步骤都已完成。

## ✅ 准备工作

- [ ] Node.js 18+ 已安装
- [ ] Wrangler CLI 已安装：`npm install -g wrangler`
- [ ] 已登录 Cloudflare：`wrangler login`
- [ ] 代码已推送到 Git 仓库

## ✅ KV 命名空间

- [ ] 已创建 KV 命名空间 `INVITE_CODES`
- [ ] 已记录命名空间 ID
- [ ] 已在 Pages 项目中绑定 KV 命名空间

## ✅ 环境变量

在 Cloudflare Pages 项目设置中配置：

- [ ] `ADMIN_PASSWORD` - 管理员密码
- [ ] `INVITE_SALT` - 邀请码哈希盐值（随机字符串，至少 32 字符）

## ✅ 邀请码

- [ ] 已创建 `invites.txt` 文件（每行一个邀请码）
- [ ] 已生成随机盐值 `INVITE_SALT`
- [ ] 已运行 `node tools/generate-bulk.js` 生成 `bulk.json`
- [ ] 已导入邀请码到 KV：`wrangler kv:bulk put --namespace-id <ID> bulk.json`

## ✅ 部署

- [ ] 已创建 Cloudflare Pages 项目
- [ ] 已配置环境变量
- [ ] 已绑定 KV 命名空间
- [ ] 已部署代码（自动或手动）

## ✅ 验证

- [ ] 网站可以访问
- [ ] 邀请码验证 API 正常工作
- [ ] 管理员登录 API 正常工作
- [ ] 前端功能正常

## ✅ 安全

- [ ] 已设置 API 速率限制
- [ ] 敏感文件已添加到 `.gitignore`
- [ ] 环境变量未提交到代码仓库

---

## 📝 重要信息记录

请记录以下信息（不要提交到代码仓库）：

```
KV 命名空间 ID: _______________________
INVITE_SALT: _______________________
ADMIN_PASSWORD: _______________________
Pages 项目名称: stranger-things-test
Pages URL: https://stranger-things-test.pages.dev
自定义域名: _______________________
```

